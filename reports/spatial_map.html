
<!DOCTYPE html>
<html>
<head>
    <title>Spatial Storylet Map</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 100%;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .stat {
            text-align: center;
        }
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }
        .stat-label {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
        }
        .map-container {
            text-align: center;
            overflow: auto;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: linear-gradient(45deg, #f8f9fa 25%, transparent 25%), 
                        linear-gradient(-45deg, #f8f9fa 25%, transparent 25%), 
                        linear-gradient(45deg, transparent 75%, #f8f9fa 75%), 
                        linear-gradient(-45deg, transparent 75%, #f8f9fa 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
        }
        .storylet {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .storylet:hover {
            transform: scale(1.1);
        }
        .storylet-node {
            fill: #667eea;
            stroke: #fff;
            stroke-width: 3;
        }
        .storylet-text {
            fill: white;
            font-size: 12px;
            font-weight: bold;
            text-anchor: middle;
            dominant-baseline: central;
            pointer-events: none;
        }
        .connection {
            stroke: #feca57;
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead);
            opacity: 0.7;
        }
        .tooltip {
            position: absolute;
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
            max-width: 300px;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
        }
        .legend {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .legend-item {
            display: inline-flex;
            align-items: center;
            margin-right: 20px;
            margin-bottom: 5px;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üó∫Ô∏è Spatial Storylet Map</h1>
        
        <div class="stats">
            <div class="stat">
                <div class="stat-value">20</div>
                <div class="stat-label">Total Storylets</div>
            </div>
            <div class="stat">
                <div class="stat-value">16</div>
                <div class="stat-label">Positioned</div>
            </div>
            <div class="stat">
                <div class="stat-value">62</div>
                <div class="stat-label">Connections</div>
            </div>
            <div class="stat">
                <div class="stat-value">2√ó2</div>
                <div class="stat-label">Grid Size</div>
            </div>
        </div>
        
        <div class="map-container">
            <svg width="360" height="360" id="map-svg">
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
                            refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#feca57" />
                    </marker>
                </defs>
                
                <!-- Grid lines -->
                <defs>
                    <pattern id="grid" width="120" height="120" patternUnits="userSpaceOnUse">
                        <path d="M 120 0 L 0 0 0 120" fill="none" stroke="#ddd" stroke-width="1"/>
                    </pattern>
                </defs>
                <rect width="100%" height="100%" fill="url(#grid)" opacity="0.5" />
                
                <!-- Connections -->
        
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Radiant Chamber (‚Üí Radiant Chamber)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Fractured Plains (‚Üí Fractured Plains)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Broken Archway (‚Üí Broken Archway)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Return to Echoes End (‚Üí Echoes End)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Timeless Lake (‚Üí Timeless Lake)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Temporal Nexus (‚Üí Temporal Nexus)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Temporal Nexus (‚Üí Temporal Nexus)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Broken Archway (‚Üí Broken Archway)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Return to Quantum Veil (‚Üí Quantum Veil)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Broken Archway (‚Üí Broken Archway)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Echo Weaver's Haven (‚Üí Echo Weaver's Haven)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Path of Echoes (‚Üí Path of Echoes)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Return to Chamber of Reverberations (‚Üí Chamber of Reverberations)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Convergence of All Paths (‚Üí Convergence of All Paths)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Broken Archway (‚Üí Broken Archway)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Temporal Gateway (‚Üí Temporal Gateway)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Return to Chamber of Reverberations (‚Üí Chamber of Reverberations)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Temporal Nexus (‚Üí Temporal Nexus)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Temporal Nexus (‚Üí Temporal Nexus)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Confluence (‚Üí Confluence)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Quantum Veil (‚Üí Quantum Veil)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Return to Hall of Threads (‚Üí Hall of Threads)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Return to Hall of Threads (‚Üí Hall of Threads)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Path of Echoes (‚Üí Path of Echoes)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Confluence (‚Üí Confluence)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Fractured Plains (‚Üí Fractured Plains)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Return to Echo Weaver's Haven (‚Üí Echo Weaver's Haven)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Timeless Lake (‚Üí Timeless Lake)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Radiant Chamber (‚Üí Radiant Chamber)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Path of Echoes (‚Üí Path of Echoes)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Echo Weaver's Haven (‚Üí Echo Weaver's Haven)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Timeless Lake (‚Üí Timeless Lake)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Quantum Veil (‚Üí Quantum Veil)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Return to Temporal Nexus (‚Üí Temporal Nexus)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Return to Temporal Nexus (‚Üí Temporal Nexus)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Fractured Plains (‚Üí Fractured Plains)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Path of Echoes (‚Üí Path of Echoes)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Radiant Chamber (‚Üí Radiant Chamber)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Return to Confluence (‚Üí Confluence)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Confluence (‚Üí Confluence)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Chamber of Reverberations (‚Üí Chamber of Reverberations)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Echoes End (‚Üí Echoes End)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Return to Broken Archway (‚Üí Broken Archway)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Fractured Plains (‚Üí Fractured Plains)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Convergence of All Paths (‚Üí Convergence of All Paths)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Confluence (‚Üí Confluence)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Return to Quantum Veil (‚Üí Quantum Veil)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Broken Archway (‚Üí Broken Archway)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Confluence (‚Üí Confluence)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Radiant Chamber (‚Üí Radiant Chamber)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Return to Fractured Plains (‚Üí Fractured Plains)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Convergence of All Paths (‚Üí Convergence of All Paths)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Chamber of Reverberations (‚Üí Chamber of Reverberations)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Echoes End (‚Üí Echoes End)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Return to Timeless Lake (‚Üí Timeless Lake)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Quantum Veil (‚Üí Quantum Veil)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Path of Echoes (‚Üí Path of Echoes)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Travel to Temporal Gateway (‚Üí Temporal Gateway)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Return to Chamber of Reverberations (‚Üí Chamber of Reverberations)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Enter the Hall of Threads, where time‚Äôs tapestry awaits (‚Üí Hall of Threads)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Enter the Hall of Threads, where time‚Äôs tapestry awaits (‚Üí Hall of Threads)" />
            
                <path class="connection" d="M 180,180 Q 180.0,160.0 180,180"
                      data-choice="Venture into the Fractured Plains, a land of shifting echoes (‚Üí Fractured Plains)" />
            
                <!-- Storylets -->
                <g class="storylet" data-id="1" data-tooltip="Title: Whispers in the Quantum Breeze\nID: 1\nPosition: (0, 0)\nRequires: {'location': 'Temporal Nexus'}\nChoices: 6\nWeight: 1.0">
                    <circle cx="180" cy="180" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="180" y="180" class="storylet-text">Whispers in ...</text>
                </g>
            
                <g class="storylet" data-id="2" data-tooltip="Title: Echo of the Ancient Seer\nID: 2\nPosition: (0, 0)\nRequires: {'location': 'Echoes End', 'quantum_resonance': 1}\nChoices: 6\nWeight: 1.0">
                    <circle cx="180" cy="180" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="180" y="180" class="storylet-text">Echo of the ...</text>
                </g>
            
                <g class="storylet" data-id="3" data-tooltip="Title: Fragments of the Weave\nID: 3\nPosition: (0, 0)\nRequires: {'location': 'Fractured Plains'}\nChoices: 6\nWeight: 1.0">
                    <circle cx="180" cy="180" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="180" y="180" class="storylet-text">Fragments of...</text>
                </g>
            
                <g class="storylet" data-id="4" data-tooltip="Title: Temporal Convergence\nID: 4\nPosition: (0, 0)\nRequires: {'location': 'Confluence', 'stellar_knowledge': 1}\nChoices: 6\nWeight: 1.0">
                    <circle cx="180" cy="180" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="180" y="180" class="storylet-text">Temporal Con...</text>
                </g>
            
                <g class="storylet" data-id="5" data-tooltip="Title: The Keeper's Challenge\nID: 5\nPosition: (0, 0)\nRequires: {'location': 'Temporal Nexus', 'cosmic_reputation': 1}\nChoices: 2\nWeight: 1.0">
                    <circle cx="180" cy="180" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="180" y="180" class="storylet-text">The Keeper's...</text>
                </g>
            
                <g class="storylet" data-id="6" data-tooltip="Title: Reflections in the Temporal Pool\nID: 6\nPosition: (0, 0)\nRequires: {'location': 'Timeless Lake'}\nChoices: 6\nWeight: 1.0">
                    <circle cx="180" cy="180" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="180" y="180" class="storylet-text">Reflections ...</text>
                </g>
            
                <g class="storylet" data-id="7" data-tooltip="Title: A Fractured Reality\nID: 7\nPosition: (0, 0)\nRequires: {'location': 'Broken Archway', 'reality_threads': 1}\nChoices: 6\nWeight: 1.0">
                    <circle cx="180" cy="180" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="180" y="180" class="storylet-text">A Fractured ...</text>
                </g>
            
                <g class="storylet" data-id="8" data-tooltip="Title: The Weaving Table\nID: 8\nPosition: (0, 0)\nRequires: {'location': 'Hall of Threads', 'weaving_skill': 1}\nChoices: 5\nWeight: 1.0">
                    <circle cx="180" cy="180" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="180" y="180" class="storylet-text">The Weaving ...</text>
                </g>
            
                <g class="storylet" data-id="9" data-tooltip="Title: The Light of Possibility\nID: 9\nPosition: (0, 0)\nRequires: {'location': 'Radiant Chamber', 'dimensional_stability': 1}\nChoices: 6\nWeight: 1.0">
                    <circle cx="180" cy="180" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="180" y="180" class="storylet-text">The Light of...</text>
                </g>
            
                <g class="storylet" data-id="10" data-tooltip="Title: Temporal Guardian's Test\nID: 10\nPosition: (0, 0)\nRequires: {'location': 'Temporal Gateway', 'weaving_skill': 2}\nChoices: 6\nWeight: 1.0">
                    <circle cx="180" cy="180" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="180" y="180" class="storylet-text">Temporal Gua...</text>
                </g>
            
                <g class="storylet" data-id="11" data-tooltip="Title: Path of Echoes\nID: 11\nPosition: (0, 0)\nRequires: {'location': 'Path of Echoes', 'cosmic_reputation': 2}\nChoices: 6\nWeight: 1.0">
                    <circle cx="180" cy="180" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="180" y="180" class="storylet-text">Path of Echo...</text>
                </g>
            
                <g class="storylet" data-id="12" data-tooltip="Title: Reverberations of the Past\nID: 12\nPosition: (0, 0)\nRequires: {'location': 'Chamber of Reverberations', 'reality_threads': 0}\nChoices: 6\nWeight: 1.0">
                    <circle cx="180" cy="180" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="180" y="180" class="storylet-text">Reverberatio...</text>
                </g>
            
                <g class="storylet" data-id="13" data-tooltip="Title: Meeting the Echo Weaver\nID: 13\nPosition: (0, 0)\nRequires: {'location': "Echo Weaver's Haven", 'stellar_knowledge': 4}\nChoices: 6\nWeight: 1.0">
                    <circle cx="180" cy="180" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="180" y="180" class="storylet-text">Meeting the ...</text>
                </g>
            
                <g class="storylet" data-id="14" data-tooltip="Title: Into the Quantum Veil\nID: 14\nPosition: (0, 0)\nRequires: {'location': 'Quantum Veil', 'dimensional_stability': 2}\nChoices: 6\nWeight: 1.0">
                    <circle cx="180" cy="180" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="180" y="180" class="storylet-text">Into the Qua...</text>
                </g>
            
                <g class="storylet" data-id="15" data-tooltip="Title: The Final Convergence\nID: 15\nPosition: (0, 0)\nRequires: {'location': 'Convergence of All Paths', 'weaving_skill': 3, 'quantum_resonance': 3}\nChoices: 6\nWeight: 1.0">
                    <circle cx="180" cy="180" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="180" y="180" class="storylet-text">The Final Co...</text>
                </g>
            
                <g class="storylet" data-id="16" data-tooltip="Title: The Whispering Threshold\nID: 16\nPosition: (0, 0)\nRequires: {'location': 'Hall of Threads'}\nChoices: 2\nWeight: 2.0">
                    <circle cx="180" cy="180" r="25" class="storylet-node" fill="#27ae60" />
                    <text x="180" y="180" class="storylet-text">The Whisperi...</text>
                </g>
            
            </svg>
        </div>
        
        <div class="legend">
            <h3>Legend</h3>
            <div class="legend-item">
                <div class="legend-color" style="background: #27ae60;"></div>
                <span>Location-based storylets</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #e74c3c;"></div>
                <span>Danger-based storylets</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #f39c12;"></div>
                <span>Other requirements</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #667eea;"></div>
                <span>No requirements</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #feca57;"></div>
                <span>Choice connections (arrows)</span>
            </div>
        </div>
        
        <div class="tooltip" id="tooltip"></div>
    </div>
    
    <script>
        const tooltip = document.getElementById('tooltip');
        const storylets = document.querySelectorAll('.storylet');
        
        storylets.forEach(storylet => {
            storylet.addEventListener('mouseenter', (e) => {
                const tooltipText = e.currentTarget.getAttribute('data-tooltip');
                tooltip.innerHTML = tooltipText.replace(/\n/g, '<br>');
                tooltip.style.opacity = '1';
            });
            
            storylet.addEventListener('mousemove', (e) => {
                tooltip.style.left = e.pageX + 10 + 'px';
                tooltip.style.top = e.pageY + 10 + 'px';
            });
            
            storylet.addEventListener('mouseleave', () => {
                tooltip.style.opacity = '0';
            });
        });
    </script>
</body>
</html>
        